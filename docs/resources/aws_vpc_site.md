---
page_title: "f5xc_aws_vpc_site Resource - terraform-provider-f5xc"
subcategory: "Sites"
description: |-
  Manages a AWSVPCSite resource in F5 Distributed Cloud for deploying F5 sites within AWS VPC environments.
---

# f5xc_aws_vpc_site (Resource)

Manages a AWSVPCSite resource in F5 Distributed Cloud for deploying F5 sites within AWS VPC environments.

~> **Note** For more information about this resource, please refer to the [F5 XC API Documentation](https://docs.cloud.f5.com/docs/api/).

## Example Usage

```terraform
# Aws Vpc Site Resource Example
# Manages a AWSVPCSite resource in F5 Distributed Cloud for deploying F5 sites within AWS VPC environments.

# Basic Aws Vpc Site configuration
resource "f5xc_aws_vpc_site" "example" {
  name      = "example-aws-vpc-site"
  namespace = "system"

  labels = {
    environment = "production"
    managed_by  = "terraform"
  }

  annotations = {
    "owner" = "platform-team"
  }

  # AWS VPC Site configuration
  aws_region = "us-west-2"

  # AWS credentials reference
  aws_cred {
    name      = "aws-credentials"
    namespace = "system"
  }

  # VPC configuration
  vpc {
    new_vpc {
      name_tag     = "f5xc-vpc"
      primary_ipv4 = "10.0.0.0/16"
    }
  }

  # Instance type
  instance_type = "t3.xlarge"

  # Ingress/Egress gateway
  ingress_egress_gw {
    aws_certified_hw = "aws-byol-multi-nic-voltmesh"
    az_nodes {
      aws_az_name = "us-west-2a"
      inside_subnet {
        subnet_param {
          ipv4 = "10.0.1.0/24"
        }
      }
      outside_subnet {
        subnet_param {
          ipv4 = "10.0.2.0/24"
        }
      }
    }
  }

  # No worker nodes by default
  no_worker_nodes {}
}
```

<!-- schema generated by tfplugindocs -->
## Argument Reference

### Metadata Argument Reference

`name` - (Required) Name of the AWSVPCSite. Must be unique within the namespace (`String`).

`namespace` - (Required) Namespace where the AWSVPCSite will be created (`String`).

`annotations` - (Optional) Annotations to apply to this resource (`Map`).

`labels` - (Optional) Labels to apply to this resource (`Map`).

### Spec Argument Reference

`address` - (Optional) Geographical Address. Site's geographical address that can be used to determine its latitude and longitude (`String`).

`admin_password` - (Optional) Secret. SecretType is used in an object to indicate a sensitive/confidential field. See [Admin Password](#admin-password) below for details.

`aws_cred` - (Optional) Object reference. This type establishes a direct reference from one object(the referrer) to another(the referred). Such a reference is in form of tenant/namespace/name. See [AWS Cred](#aws-cred) below for details.

`aws_region` - (Optional) AWS Region. Name for AWS Region (`String`).

> **Note:** One of the arguments from this list "block_all_services, blocked_services, default_blocked_services" must be set.

`block_all_services` - (Optional) Empty. This can be used for messages where no values are needed. See [Block All Services](#block-all-services) below for details.

`blocked_services` - (Optional) Disable Node Local Services. Disable node local services on this site. Note: The chosen services will get disabled on all nodes in the site. See [Blocked Services](#blocked-services) below for details.

`default_blocked_services` - (Optional) Empty. This can be used for messages where no values are needed. See [Default Blocked Services](#default-blocked-services) below for details.

`coordinates` - (Optional) Site Coordinates. Coordinates of the site which provides the site physical location. See [Coordinates](#coordinates) below for details.

`custom_dns` - (Optional) Custom DNS. Custom DNS is the configured for specify CE site. See [Custom DNS](#custom-dns) below for details.

> **Note:** One of the arguments from this list "custom_security_group, f5xc_security_group" must be set.

`custom_security_group` - (Optional) Security Group IDS. Enter pre created security groups for slo(Site Local Outside) and sli(Site Local Inside) interface. Supported only for sites deployed on existing VPC. See [Custom Security Group](#custom-security-group) below for details.

`f5xc_security_group` - (Optional) Empty. This can be used for messages where no values are needed. See [F5xc Security Group](#f5xc-security-group) below for details.

> **Note:** One of the arguments from this list "direct_connect_disabled, direct_connect_enabled, private_connectivity" must be set.

`direct_connect_disabled` - (Optional) Empty. This can be used for messages where no values are needed. See [Direct Connect Disabled](#direct-connect-disabled) below for details.

`direct_connect_enabled` - (Optional) Direct Connect Configuration. Direct Connect Configuration. See [Direct Connect Enabled](#direct-connect-enabled) below for details.

`private_connectivity` - (Optional) Private Connect Configuration. Private Connect Configuration. See [Private Connectivity](#private-connectivity) below for details.

> **Note:** One of the arguments from this list "disable_internet_vip, enable_internet_vip" must be set.

`disable_internet_vip` - (Optional) Empty. This can be used for messages where no values are needed. See [Disable Internet VIP](#disable-internet-vip) below for details.

`enable_internet_vip` - (Optional) Empty. This can be used for messages where no values are needed. See [Enable Internet VIP](#enable-internet-vip) below for details.

`disk_size` - (Optional) Cloud Disk Size. Disk size to be used for this instance in GiB. 80 is 80 GiB (`Number`).

> **Note:** One of the arguments from this list "egress_gateway_default, egress_nat_gw, egress_virtual_private_gateway" must be set.

`egress_gateway_default` - (Optional) Empty. This can be used for messages where no values are needed. See [Egress Gateway Default](#egress-gateway-default) below for details.

`egress_nat_gw` - (Optional) AWS NAT Gateway choice. With this option, egress site traffic will be routed through an Network Address Translation(NAT) Gateway. See [Egress NAT Gw](#egress-nat-gw) below for details.

`egress_virtual_private_gateway` - (Optional) AWS Virtual Private Gateway choice. With this option, egress site traffic will be routed through an Virtual Private Gateway. See [Egress Virtual Private Gateway](#egress-virtual-private-gateway) below for details.

> **Note:** One of the arguments from this list "f5_orchestrated_routing, manual_routing" must be set.

`f5_orchestrated_routing` - (Optional) Empty. This can be used for messages where no values are needed. See [F5 Orchestrated Routing](#f5-orchestrated-routing) below for details.

`manual_routing` - (Optional) Empty. This can be used for messages where no values are needed. See [Manual Routing](#manual-routing) below for details.

> **Note:** One of the arguments from this list "ingress_egress_gw, ingress_gw, voltstack_cluster" must be set.

`ingress_egress_gw` - (Optional) AWS Ingress/Egress Gateway. Two interface AWS ingress/egress site. See [Ingress Egress Gw](#ingress-egress-gw) below for details.

`ingress_gw` - (Optional) AWS Ingress Gateway. Single interface AWS ingress site. See [Ingress Gw](#ingress-gw) below for details.

`voltstack_cluster` - (Optional) AWS App Stack Cluster. App Stack cluster of single interface AWS nodes. See [Voltstack Cluster](#voltstack-cluster) below for details.

`instance_type` - (Optional) AWS Instance Type for Node. Select Instance size based on performance needed (`String`).

`kubernetes_upgrade_drain` - (Optional) Node by Node Upgrade. Specify how worker nodes within a site will be upgraded. See [Kubernetes Upgrade Drain](#kubernetes-upgrade-drain) below for details.

> **Note:** One of the arguments from this list "log_receiver, logs_streaming_disabled" must be set.

`log_receiver` - (Optional) Object reference. This type establishes a direct reference from one object(the referrer) to another(the referred). Such a reference is in form of tenant/namespace/name. See [Log Receiver](#log-receiver) below for details.

`logs_streaming_disabled` - (Optional) Empty. This can be used for messages where no values are needed. See [Logs Streaming Disabled](#logs-streaming-disabled) below for details.

> **Note:** One of the arguments from this list "no_worker_nodes, nodes_per_az, total_nodes" must be set.

`no_worker_nodes` - (Optional) Empty. This can be used for messages where no values are needed. See [No Worker Nodes](#no-worker-nodes) below for details.

`nodes_per_az` - (Optional) Desired Worker Nodes Per AZ. Desired Worker Nodes Per AZ. Max limit is up to 21 (`Number`).

`total_nodes` - (Optional) Total Number of Worker Nodes for a Site. Total number of worker nodes to be deployed across all AZ's used in the Site (`Number`).

`offline_survivability_mode` - (Optional) Offline Survivability Mode. Offline Survivability allows the Site to continue functioning normally without traffic loss during periods of connectivity loss to the Regional Edge (RE) or the Global Controller (GC). When this feature is enabled, a site can continue to function as is with existing configuration for upto 7 days, even when the site is offline. The certificates needed to keep the services running on this site are signed using a local CA. Secrets would also be cached locally to handl.. See [Offline Survivability Mode](#offline-survivability-mode) below for details.

`os` - (Optional) Operating System Version. Select the F5XC Operating System Version for the site. By default, latest available OS Version will be used. Refer to release notes to find required released OS versions. See [OS](#os) below for details.

`ssh_key` - (Optional) Public SSH key. Public SSH key for accessing the site (`String`).

`sw` - (Optional) F5XC Software Version. Select the F5XC Software Version for the site. By default, latest available F5XC Software Version will be used. Refer to release notes to find required released SW versions. See [Sw](#sw) below for details.

`tags` - (Optional) AWS Tags. AWS Tags is a label consisting of a user-defined key and value. It helps to manage, identify, organize, search for, and filter resources in AWS console. See [Tags](#tags) below for details.

`timeouts` - (Optional) See [Timeouts](#timeouts) below for details.

`vpc` - (Optional) AWS VPC choice. This defines choice about AWS VPC for a view. See [Vpc](#vpc) below for details.

### Attributes Reference

In addition to all arguments above, the following attributes are exported:

`id` - (Optional) Unique identifier for the resource (`String`).

---

<a id="nestedblock--admin_password"></a>

<a id="nestedblock--admin_password--blindfold_secret_info"></a>

<a id="nestedblock--admin_password--clear_secret_info"></a>

<a id="nestedblock--aws_cred"></a>

<a id="nestedblock--block_all_services"></a>

<a id="nestedblock--blocked_services"></a>

<a id="nestedblock--blocked_services--blocked_sevice"></a>

<a id="nestedblock--blocked_services--blocked_sevice--dns"></a>

<a id="nestedblock--blocked_services--blocked_sevice--ssh"></a>

<a id="nestedblock--blocked_services--blocked_sevice--web_user_interface"></a>

<a id="nestedblock--coordinates"></a>

<a id="nestedblock--custom_dns"></a>

<a id="nestedblock--custom_security_group"></a>

<a id="nestedblock--default_blocked_services"></a>

<a id="nestedblock--direct_connect_disabled"></a>

<a id="nestedblock--direct_connect_enabled"></a>

<a id="nestedblock--direct_connect_enabled--auto_asn"></a>

<a id="nestedblock--direct_connect_enabled--hosted_vifs"></a>

<a id="nestedblock--direct_connect_enabled--hosted_vifs--site_registration_over_direct_connect"></a>

<a id="nestedblock--direct_connect_enabled--hosted_vifs--site_registration_over_internet"></a>

<a id="nestedblock--direct_connect_enabled--hosted_vifs--vif_list"></a>

<a id="nestedblock--direct_connect_enabled--hosted_vifs--vif_list--same_as_site_region"></a>

<a id="nestedblock--direct_connect_enabled--standard_vifs"></a>

<a id="nestedblock--disable_internet_vip"></a>

<a id="nestedblock--egress_gateway_default"></a>

<a id="nestedblock--egress_nat_gw"></a>

<a id="nestedblock--egress_virtual_private_gateway"></a>

<a id="nestedblock--enable_internet_vip"></a>

<a id="nestedblock--f5_orchestrated_routing"></a>

<a id="nestedblock--f5xc_security_group"></a>

<a id="nestedblock--ingress_egress_gw"></a>

<a id="nestedblock--ingress_egress_gw--active_enhanced_firewall_policies"></a>

<a id="nestedblock--ingress_egress_gw--active_enhanced_firewall_policies--enhanced_firewall_policies"></a>

<a id="nestedblock--ingress_egress_gw--active_forward_proxy_policies"></a>

<a id="nestedblock--ingress_egress_gw--active_forward_proxy_policies--forward_proxy_policies"></a>

<a id="nestedblock--ingress_egress_gw--active_network_policies"></a>

<a id="nestedblock--ingress_egress_gw--active_network_policies--network_policies"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port--custom_ports"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port--disable_allowed_vip_port"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port--use_http_https_port"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port--use_http_port"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port--use_https_port"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port_sli"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port_sli--custom_ports"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port_sli--disable_allowed_vip_port"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port_sli--use_http_https_port"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port_sli--use_http_port"></a>

<a id="nestedblock--ingress_egress_gw--allowed_vip_port_sli--use_https_port"></a>

<a id="nestedblock--ingress_egress_gw--az_nodes"></a>

<a id="nestedblock--ingress_egress_gw--az_nodes--inside_subnet"></a>

<a id="nestedblock--ingress_egress_gw--az_nodes--inside_subnet--subnet_param"></a>

<a id="nestedblock--ingress_egress_gw--az_nodes--outside_subnet"></a>

<a id="nestedblock--ingress_egress_gw--az_nodes--outside_subnet--subnet_param"></a>

<a id="nestedblock--ingress_egress_gw--az_nodes--reserved_inside_subnet"></a>

<a id="nestedblock--ingress_egress_gw--az_nodes--workload_subnet"></a>

<a id="nestedblock--ingress_egress_gw--az_nodes--workload_subnet--subnet_param"></a>

<a id="nestedblock--ingress_egress_gw--dc_cluster_group_inside_vn"></a>

<a id="nestedblock--ingress_egress_gw--dc_cluster_group_outside_vn"></a>

<a id="nestedblock--ingress_egress_gw--forward_proxy_allow_all"></a>

<a id="nestedblock--ingress_egress_gw--global_network_list"></a>

<a id="nestedblock--ingress_egress_gw--global_network_list--global_network_connections"></a>

<a id="nestedblock--ingress_egress_gw--global_network_list--global_network_connections--sli_to_global_dr"></a>

<a id="nestedblock--ingress_egress_gw--global_network_list--global_network_connections--slo_to_global_dr"></a>

<a id="nestedblock--ingress_egress_gw--inside_static_routes"></a>

<a id="nestedblock--ingress_egress_gw--inside_static_routes--static_route_list"></a>

<a id="nestedblock--ingress_egress_gw--inside_static_routes--static_route_list--custom_static_route"></a>

<a id="nestedblock--ingress_egress_gw--no_dc_cluster_group"></a>

<a id="nestedblock--ingress_egress_gw--no_forward_proxy"></a>

<a id="nestedblock--ingress_egress_gw--no_global_network"></a>

<a id="nestedblock--ingress_egress_gw--no_inside_static_routes"></a>

<a id="nestedblock--ingress_egress_gw--no_network_policy"></a>

<a id="nestedblock--ingress_egress_gw--no_outside_static_routes"></a>

<a id="nestedblock--ingress_egress_gw--outside_static_routes"></a>

<a id="nestedblock--ingress_egress_gw--outside_static_routes--static_route_list"></a>

<a id="nestedblock--ingress_egress_gw--outside_static_routes--static_route_list--custom_static_route"></a>

<a id="nestedblock--ingress_egress_gw--performance_enhancement_mode"></a>

<a id="nestedblock--ingress_egress_gw--performance_enhancement_mode--perf_mode_l3_enhanced"></a>

<a id="nestedblock--ingress_egress_gw--performance_enhancement_mode--perf_mode_l3_enhanced--jumbo"></a>

<a id="nestedblock--ingress_egress_gw--performance_enhancement_mode--perf_mode_l3_enhanced--no_jumbo"></a>

<a id="nestedblock--ingress_egress_gw--performance_enhancement_mode--perf_mode_l7_enhanced"></a>

<a id="nestedblock--ingress_egress_gw--sm_connection_public_ip"></a>

<a id="nestedblock--ingress_egress_gw--sm_connection_pvt_ip"></a>

<a id="nestedblock--ingress_gw"></a>

<a id="nestedblock--ingress_gw--allowed_vip_port"></a>

<a id="nestedblock--ingress_gw--allowed_vip_port--custom_ports"></a>

<a id="nestedblock--ingress_gw--allowed_vip_port--disable_allowed_vip_port"></a>

<a id="nestedblock--ingress_gw--allowed_vip_port--use_http_https_port"></a>

<a id="nestedblock--ingress_gw--allowed_vip_port--use_http_port"></a>

<a id="nestedblock--ingress_gw--allowed_vip_port--use_https_port"></a>

<a id="nestedblock--ingress_gw--az_nodes"></a>

<a id="nestedblock--ingress_gw--az_nodes--local_subnet"></a>

<a id="nestedblock--ingress_gw--az_nodes--local_subnet--subnet_param"></a>

<a id="nestedblock--ingress_gw--performance_enhancement_mode"></a>

<a id="nestedblock--ingress_gw--performance_enhancement_mode--perf_mode_l3_enhanced"></a>

<a id="nestedblock--ingress_gw--performance_enhancement_mode--perf_mode_l3_enhanced--jumbo"></a>

<a id="nestedblock--ingress_gw--performance_enhancement_mode--perf_mode_l3_enhanced--no_jumbo"></a>

<a id="nestedblock--ingress_gw--performance_enhancement_mode--perf_mode_l7_enhanced"></a>

<a id="nestedblock--kubernetes_upgrade_drain"></a>

<a id="nestedblock--kubernetes_upgrade_drain--disable_upgrade_drain"></a>

<a id="nestedblock--kubernetes_upgrade_drain--enable_upgrade_drain"></a>

<a id="nestedblock--kubernetes_upgrade_drain--enable_upgrade_drain--disable_vega_upgrade_mode"></a>

<a id="nestedblock--kubernetes_upgrade_drain--enable_upgrade_drain--enable_vega_upgrade_mode"></a>

<a id="nestedblock--log_receiver"></a>

<a id="nestedblock--logs_streaming_disabled"></a>

<a id="nestedblock--manual_routing"></a>

<a id="nestedblock--no_worker_nodes"></a>

<a id="nestedblock--offline_survivability_mode"></a>

<a id="nestedblock--offline_survivability_mode--enable_offline_survivability_mode"></a>

<a id="nestedblock--offline_survivability_mode--no_offline_survivability_mode"></a>

<a id="nestedblock--os"></a>

<a id="nestedblock--os--default_os_version"></a>

<a id="nestedblock--private_connectivity"></a>

<a id="nestedblock--private_connectivity--cloud_link"></a>

<a id="nestedblock--private_connectivity--inside"></a>

<a id="nestedblock--private_connectivity--outside"></a>

<a id="nestedblock--sw"></a>

<a id="nestedblock--sw--default_sw_version"></a>

<a id="nestedblock--tags"></a>

<a id="nestedblock--timeouts"></a>

<a id="nestedblock--voltstack_cluster"></a>

<a id="nestedblock--voltstack_cluster--active_enhanced_firewall_policies"></a>

<a id="nestedblock--voltstack_cluster--active_enhanced_firewall_policies--enhanced_firewall_policies"></a>

<a id="nestedblock--voltstack_cluster--active_forward_proxy_policies"></a>

<a id="nestedblock--voltstack_cluster--active_forward_proxy_policies--forward_proxy_policies"></a>

<a id="nestedblock--voltstack_cluster--active_network_policies"></a>

<a id="nestedblock--voltstack_cluster--active_network_policies--network_policies"></a>

<a id="nestedblock--voltstack_cluster--allowed_vip_port"></a>

<a id="nestedblock--voltstack_cluster--allowed_vip_port--custom_ports"></a>

<a id="nestedblock--voltstack_cluster--allowed_vip_port--disable_allowed_vip_port"></a>

<a id="nestedblock--voltstack_cluster--allowed_vip_port--use_http_https_port"></a>

<a id="nestedblock--voltstack_cluster--allowed_vip_port--use_http_port"></a>

<a id="nestedblock--voltstack_cluster--allowed_vip_port--use_https_port"></a>

<a id="nestedblock--voltstack_cluster--az_nodes"></a>

<a id="nestedblock--voltstack_cluster--az_nodes--local_subnet"></a>

<a id="nestedblock--voltstack_cluster--az_nodes--local_subnet--subnet_param"></a>

<a id="nestedblock--voltstack_cluster--dc_cluster_group"></a>

<a id="nestedblock--voltstack_cluster--default_storage"></a>

<a id="nestedblock--voltstack_cluster--forward_proxy_allow_all"></a>

<a id="nestedblock--voltstack_cluster--global_network_list"></a>

<a id="nestedblock--voltstack_cluster--global_network_list--global_network_connections"></a>

<a id="nestedblock--voltstack_cluster--global_network_list--global_network_connections--sli_to_global_dr"></a>

<a id="nestedblock--voltstack_cluster--global_network_list--global_network_connections--slo_to_global_dr"></a>

<a id="nestedblock--voltstack_cluster--k8s_cluster"></a>

<a id="nestedblock--voltstack_cluster--no_dc_cluster_group"></a>

<a id="nestedblock--voltstack_cluster--no_forward_proxy"></a>

<a id="nestedblock--voltstack_cluster--no_global_network"></a>

<a id="nestedblock--voltstack_cluster--no_k8s_cluster"></a>

<a id="nestedblock--voltstack_cluster--no_network_policy"></a>

<a id="nestedblock--voltstack_cluster--no_outside_static_routes"></a>

<a id="nestedblock--voltstack_cluster--outside_static_routes"></a>

<a id="nestedblock--voltstack_cluster--outside_static_routes--static_route_list"></a>

<a id="nestedblock--voltstack_cluster--outside_static_routes--static_route_list--custom_static_route"></a>

<a id="nestedblock--voltstack_cluster--sm_connection_public_ip"></a>

<a id="nestedblock--voltstack_cluster--sm_connection_pvt_ip"></a>

<a id="nestedblock--voltstack_cluster--storage_class_list"></a>

<a id="nestedblock--voltstack_cluster--storage_class_list--storage_classes"></a>

<a id="nestedblock--vpc"></a>

<a id="nestedblock--vpc--new_vpc"></a>

<a id="nestedblock--vpc--new_vpc--autogenerate"></a>

## Import

Import is supported using the following syntax:

```shell
# Import using namespace/name format
terraform import f5xc_aws_vpc_site.example system/example
```
