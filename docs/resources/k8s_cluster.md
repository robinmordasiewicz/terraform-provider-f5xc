---
page_title: "f5xc_k8s_cluster Resource - terraform-provider-f5xc"
subcategory: ""
description: |-
  Manages k8s_cluster will create the object in the storage backend for namespace metadata.namespace in F5 Distributed Cloud.
---

# f5xc_k8s_cluster (Resource)

Manages k8s_cluster will create the object in the storage backend for namespace metadata.namespace in F5 Distributed Cloud.

~> **Note** For more information about this resource, please refer to the [F5 XC API Documentation](https://docs.cloud.f5.com/docs/api/).

## Example Usage

```terraform
# K8s Cluster Resource Example
# Manages k8s_cluster will create the object in the storage backend for namespace metadata.namespace in F5 Distributed Cloud.

# Basic K8s Cluster configuration
resource "f5xc_k8s_cluster" "example" {
  name      = "example-k8s-cluster"
  namespace = "system"

  labels = {
    environment = "production"
    managed_by  = "terraform"
  }

  annotations = {
    "owner" = "platform-team"
  }

  # Kubernetes Cluster configuration
  # Use custom local domain
  use_custom_cluster_role_bindings {
    cluster_role_bindings {
      name      = "admin-binding"
      namespace = "system"
    }
  }

  cluster_wide_app_list {
    cluster_wide_apps {
      name      = "nginx-ingress"
      namespace = "system"
    }
  }

  local_access_config {
    local_domain = "cluster.local"
    default_port {}
  }

  global_access_enable {}
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the K8SCluster. Must be unique within the namespace.
- `namespace` (String) Namespace where the K8SCluster will be created.

### Optional

- `annotations` (Map of String) Annotations to apply to this resource.
- `cluster_scoped_access_deny` (Block, Optional) [OneOf: cluster_scoped_access_deny, cluster_scoped_access_permit] Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--cluster_scoped_access_deny))
- `cluster_scoped_access_permit` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--cluster_scoped_access_permit))
- `cluster_wide_app_list` (Block, Optional) [OneOf: cluster_wide_app_list, no_cluster_wide_apps] Cluster Wide Application List. List of cluster wide applications (see [below for nested schema](#nestedblock--cluster_wide_app_list))
- `global_access_enable` (Block, Optional) [OneOf: global_access_enable, no_global_access] Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--global_access_enable))
- `insecure_registry_list` (Block, Optional) [OneOf: insecure_registry_list, no_insecure_registries] Docker Insecure Registry List. List of docker insecure registries (see [below for nested schema](#nestedblock--insecure_registry_list))
- `labels` (Map of String) Labels to apply to this resource.
- `local_access_config` (Block, Optional) [OneOf: local_access_config, no_local_access] Local Access Configuration. Parameters required to enable local access (see [below for nested schema](#nestedblock--local_access_config))
- `no_cluster_wide_apps` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--no_cluster_wide_apps))
- `no_global_access` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--no_global_access))
- `no_insecure_registries` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--no_insecure_registries))
- `no_local_access` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--no_local_access))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `use_custom_cluster_role_bindings` (Block, Optional) [OneOf: use_custom_cluster_role_bindings, use_default_cluster_role_bindings] Cluster Role Binding List. List of active cluster role binding list for a K8s cluster (see [below for nested schema](#nestedblock--use_custom_cluster_role_bindings))
- `use_custom_cluster_role_list` (Block, Optional) [OneOf: use_custom_cluster_role_list, use_default_cluster_roles] Cluster Role List. List of active cluster role list for a K8s cluster (see [below for nested schema](#nestedblock--use_custom_cluster_role_list))
- `use_custom_pod_security_admission` (Block, Optional) [OneOf: use_custom_pod_security_admission, use_default_pod_security_admission] Object reference. This type establishes a direct reference from one object(the referrer) to another(the referred). Such a reference is in form of tenant/namespace/name (see [below for nested schema](#nestedblock--use_custom_pod_security_admission))
- `use_custom_psp_list` (Block, Optional) [OneOf: use_custom_psp_list, use_default_psp] Pod Security Policy List. List of active Pod security policies for a K8s cluster (see [below for nested schema](#nestedblock--use_custom_psp_list))
- `use_default_cluster_role_bindings` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--use_default_cluster_role_bindings))
- `use_default_cluster_roles` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--use_default_cluster_roles))
- `use_default_pod_security_admission` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--use_default_pod_security_admission))
- `use_default_psp` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--use_default_psp))
- `vk8s_namespace_access_deny` (Block, Optional) [OneOf: vk8s_namespace_access_deny, vk8s_namespace_access_permit] Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--vk8s_namespace_access_deny))
- `vk8s_namespace_access_permit` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--vk8s_namespace_access_permit))

### Read-Only

- `id` (String) Unique identifier for the resource.

<a id="nestedblock--cluster_scoped_access_deny"></a>
### Nested Schema for `cluster_scoped_access_deny`


<a id="nestedblock--cluster_scoped_access_permit"></a>
### Nested Schema for `cluster_scoped_access_permit`


<a id="nestedblock--cluster_wide_app_list"></a>
### Nested Schema for `cluster_wide_app_list`

Optional:

- `cluster_wide_apps` (Block List) Cluster Wide Application List. List of cluster wide applications (see [below for nested schema](#nestedblock--cluster_wide_app_list--cluster_wide_apps))

<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps"></a>
### Nested Schema for `cluster_wide_app_list.cluster_wide_apps`

Optional:

- `argo_cd` (Block, Optional) Argo CD configuration. description Parameters for Argo Continuous Deployment(CD) application (see [below for nested schema](#nestedblock--cluster_wide_app_list--cluster_wide_apps--argo_cd))
- `dashboard` (Block, Optional) K8s Dashboard configuration. description Parameters for K8s dashboard (see [below for nested schema](#nestedblock--cluster_wide_app_list--cluster_wide_apps--dashboard))
- `metrics_server` (Block, Optional) K8s Metrics Server configuration. description Parameters for Kubernetes Metrics Server application (see [below for nested schema](#nestedblock--cluster_wide_app_list--cluster_wide_apps--metrics_server))
- `prometheus` (Block, Optional) Prometheus access configuration. description Parameters for Prometheus server access (see [below for nested schema](#nestedblock--cluster_wide_app_list--cluster_wide_apps--prometheus))

<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--argo_cd"></a>
### Nested Schema for `cluster_wide_app_list.cluster_wide_apps.argo_cd`

Optional:

- `local_domain` (Block, Optional) Local Access Configuration. Parameters required to enable local access (see [below for nested schema](#nestedblock--cluster_wide_app_list--cluster_wide_apps--argo_cd--local_domain))

<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--argo_cd--local_domain"></a>
### Nested Schema for `cluster_wide_app_list.cluster_wide_apps.argo_cd.local_domain`



<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--dashboard"></a>
### Nested Schema for `cluster_wide_app_list.cluster_wide_apps.dashboard`


<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--metrics_server"></a>
### Nested Schema for `cluster_wide_app_list.cluster_wide_apps.metrics_server`


<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--prometheus"></a>
### Nested Schema for `cluster_wide_app_list.cluster_wide_apps.prometheus`




<a id="nestedblock--global_access_enable"></a>
### Nested Schema for `global_access_enable`


<a id="nestedblock--insecure_registry_list"></a>
### Nested Schema for `insecure_registry_list`

Optional:

- `insecure_registries` (List of String) Docker Insecure Registry List. List of docker insecure registries in format 'example.com:5000'


<a id="nestedblock--local_access_config"></a>
### Nested Schema for `local_access_config`

Optional:

- `default_port` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--local_access_config--default_port))
- `local_domain` (String) Local Domain. Local K8s API server will be accessible at <site name>.<local domain>.
- `port` (Number) Custom k8s Port. Use custom K8s port for API server. Available port range is less than 65000 except reserved ports.

<a id="nestedblock--local_access_config--default_port"></a>
### Nested Schema for `local_access_config.default_port`



<a id="nestedblock--no_cluster_wide_apps"></a>
### Nested Schema for `no_cluster_wide_apps`


<a id="nestedblock--no_global_access"></a>
### Nested Schema for `no_global_access`


<a id="nestedblock--no_insecure_registries"></a>
### Nested Schema for `no_insecure_registries`


<a id="nestedblock--no_local_access"></a>
### Nested Schema for `no_local_access`


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedblock--use_custom_cluster_role_bindings"></a>
### Nested Schema for `use_custom_cluster_role_bindings`

Optional:

- `cluster_role_bindings` (Block List) Cluster Role Binding List. List of active cluster role binding list for a K8s cluster (see [below for nested schema](#nestedblock--use_custom_cluster_role_bindings--cluster_role_bindings))

<a id="nestedblock--use_custom_cluster_role_bindings--cluster_role_bindings"></a>
### Nested Schema for `use_custom_cluster_role_bindings.cluster_role_bindings`

Optional:

- `name` (String) Name. When a configuration object(e.g. virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. route's) name.
- `namespace` (String) Namespace. When a configuration object(e.g. virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. route's) namespace.
- `tenant` (String) Tenant. When a configuration object(e.g. virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. route's) tenant.



<a id="nestedblock--use_custom_cluster_role_list"></a>
### Nested Schema for `use_custom_cluster_role_list`

Optional:

- `cluster_roles` (Block List) Cluster Role List. List of active cluster role list for a K8s cluster (see [below for nested schema](#nestedblock--use_custom_cluster_role_list--cluster_roles))

<a id="nestedblock--use_custom_cluster_role_list--cluster_roles"></a>
### Nested Schema for `use_custom_cluster_role_list.cluster_roles`

Optional:

- `name` (String) Name. When a configuration object(e.g. virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. route's) name.
- `namespace` (String) Namespace. When a configuration object(e.g. virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. route's) namespace.
- `tenant` (String) Tenant. When a configuration object(e.g. virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. route's) tenant.



<a id="nestedblock--use_custom_pod_security_admission"></a>
### Nested Schema for `use_custom_pod_security_admission`

Optional:

- `name` (String) Name. When a configuration object(e.g. virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. route's) name.
- `namespace` (String) Namespace. When a configuration object(e.g. virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. route's) namespace.
- `tenant` (String) Tenant. When a configuration object(e.g. virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. route's) tenant.


<a id="nestedblock--use_custom_psp_list"></a>
### Nested Schema for `use_custom_psp_list`

Optional:

- `pod_security_policies` (Block List) Pod Security Policy List. List of active Pod security policies for a K8s cluster (see [below for nested schema](#nestedblock--use_custom_psp_list--pod_security_policies))

<a id="nestedblock--use_custom_psp_list--pod_security_policies"></a>
### Nested Schema for `use_custom_psp_list.pod_security_policies`

Optional:

- `name` (String) Name. When a configuration object(e.g. virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. route's) name.
- `namespace` (String) Namespace. When a configuration object(e.g. virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. route's) namespace.
- `tenant` (String) Tenant. When a configuration object(e.g. virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. route's) tenant.



<a id="nestedblock--use_default_cluster_role_bindings"></a>
### Nested Schema for `use_default_cluster_role_bindings`


<a id="nestedblock--use_default_cluster_roles"></a>
### Nested Schema for `use_default_cluster_roles`


<a id="nestedblock--use_default_pod_security_admission"></a>
### Nested Schema for `use_default_pod_security_admission`


<a id="nestedblock--use_default_psp"></a>
### Nested Schema for `use_default_psp`


<a id="nestedblock--vk8s_namespace_access_deny"></a>
### Nested Schema for `vk8s_namespace_access_deny`


<a id="nestedblock--vk8s_namespace_access_permit"></a>
### Nested Schema for `vk8s_namespace_access_permit`

## Import

Import is supported using the following syntax:

```shell
# Import using namespace/name format
terraform import f5xc_k8s_cluster.example system/example
```
