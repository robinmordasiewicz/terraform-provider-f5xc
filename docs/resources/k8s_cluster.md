---
page_title: "f5xc_k8s_cluster Resource - terraform-provider-f5xc"
subcategory: "Kubernetes"
description: |-
  Manages k8s_cluster will create the object in the storage backend for namespace metadata.namespace in F5 Distributed Cloud.
---

# f5xc_k8s_cluster (Resource)

Manages k8s_cluster will create the object in the storage backend for namespace metadata.namespace in F5 Distributed Cloud.

~> **Note** For more information about this resource, please refer to the [F5 XC API Documentation](https://docs.cloud.f5.com/docs/api/).

## Example Usage

```terraform
# K8s Cluster Resource Example
# Manages k8s_cluster will create the object in the storage backend for namespace metadata.namespace in F5 Distributed Cloud.

# Basic K8s Cluster configuration
resource "f5xc_k8s_cluster" "example" {
  name      = "example-k8s-cluster"
  namespace = "system"

  labels = {
    environment = "production"
    managed_by  = "terraform"
  }

  annotations = {
    "owner" = "platform-team"
  }

  # Kubernetes Cluster configuration
  # Use custom local domain
  use_custom_cluster_role_bindings {
    cluster_role_bindings {
      name      = "admin-binding"
      namespace = "system"
    }
  }

  cluster_wide_app_list {
    cluster_wide_apps {
      name      = "nginx-ingress"
      namespace = "system"
    }
  }

  local_access_config {
    local_domain = "cluster.local"
    default_port {}
  }

  global_access_enable {}
}
```

<!-- schema generated by tfplugindocs -->
## Argument Reference

### Metadata Argument Reference

`name` - (Required) Name of the K8SCluster. Must be unique within the namespace (`String`).

`namespace` - (Required) Namespace where the K8SCluster will be created (`String`).

`annotations` - (Optional) Annotations to apply to this resource (`Map`).

`labels` - (Optional) Labels to apply to this resource (`Map`).

### Spec Argument Reference

> **Note:** One of the arguments from this list "cluster_scoped_access_deny, cluster_scoped_access_permit" must be set.

`cluster_scoped_access_deny` - (Optional) Empty. This can be used for messages where no values are needed. See [Cluster Scoped Access Deny](#cluster-scoped-access-deny) below for details.

`cluster_scoped_access_permit` - (Optional) Empty. This can be used for messages where no values are needed. See [Cluster Scoped Access Permit](#cluster-scoped-access-permit) below for details.

> **Note:** One of the arguments from this list "cluster_wide_app_list, no_cluster_wide_apps" must be set.

`cluster_wide_app_list` - (Optional) Cluster Wide Application List. List of cluster wide applications. See [Cluster Wide App List](#cluster-wide-app-list) below for details.

`no_cluster_wide_apps` - (Optional) Empty. This can be used for messages where no values are needed. See [No Cluster Wide Apps](#no-cluster-wide-apps) below for details.

> **Note:** One of the arguments from this list "global_access_enable, no_global_access" must be set.

`global_access_enable` - (Optional) Empty. This can be used for messages where no values are needed. See [Global Access Enable](#global-access-enable) below for details.

`no_global_access` - (Optional) Empty. This can be used for messages where no values are needed. See [No Global Access](#no-global-access) below for details.

> **Note:** One of the arguments from this list "insecure_registry_list, no_insecure_registries" must be set.

`insecure_registry_list` - (Optional) Docker Insecure Registry List. List of docker insecure registries. See [Insecure Registry List](#insecure-registry-list) below for details.

`no_insecure_registries` - (Optional) Empty. This can be used for messages where no values are needed. See [No Insecure Registries](#no-insecure-registries) below for details.

> **Note:** One of the arguments from this list "local_access_config, no_local_access" must be set.

`local_access_config` - (Optional) Local Access Configuration. Parameters required to enable local access. See [Local Access Config](#local-access-config) below for details.

`no_local_access` - (Optional) Empty. This can be used for messages where no values are needed. See [No Local Access](#no-local-access) below for details.

`timeouts` - (Optional) See [Timeouts](#timeouts) below for details.

> **Note:** One of the arguments from this list "use_custom_cluster_role_bindings, use_default_cluster_role_bindings" must be set.

`use_custom_cluster_role_bindings` - (Optional) Cluster Role Binding List. List of active cluster role binding list for a K8s cluster. See [Use Custom Cluster Role Bindings](#use-custom-cluster-role-bindings) below for details.

`use_default_cluster_role_bindings` - (Optional) Empty. This can be used for messages where no values are needed. See [Use Default Cluster Role Bindings](#use-default-cluster-role-bindings) below for details.

> **Note:** One of the arguments from this list "use_custom_cluster_role_list, use_default_cluster_roles" must be set.

`use_custom_cluster_role_list` - (Optional) Cluster Role List. List of active cluster role list for a K8s cluster. See [Use Custom Cluster Role List](#use-custom-cluster-role-list) below for details.

`use_default_cluster_roles` - (Optional) Empty. This can be used for messages where no values are needed. See [Use Default Cluster Roles](#use-default-cluster-roles) below for details.

> **Note:** One of the arguments from this list "use_custom_pod_security_admission, use_default_pod_security_admission" must be set.

`use_custom_pod_security_admission` - (Optional) Object reference. This type establishes a direct reference from one object(the referrer) to another(the referred). Such a reference is in form of tenant/namespace/name. See [Use Custom Pod Security Admission](#use-custom-pod-security-admission) below for details.

`use_default_pod_security_admission` - (Optional) Empty. This can be used for messages where no values are needed. See [Use Default Pod Security Admission](#use-default-pod-security-admission) below for details.

> **Note:** One of the arguments from this list "use_custom_psp_list, use_default_psp" must be set.

`use_custom_psp_list` - (Optional) Pod Security Policy List. List of active Pod security policies for a K8s cluster. See [Use Custom Psp List](#use-custom-psp-list) below for details.

`use_default_psp` - (Optional) Empty. This can be used for messages where no values are needed. See [Use Default Psp](#use-default-psp) below for details.

> **Note:** One of the arguments from this list "vk8s_namespace_access_deny, vk8s_namespace_access_permit" must be set.

`vk8s_namespace_access_deny` - (Optional) Empty. This can be used for messages where no values are needed. See [Vk8s Namespace Access Deny](#vk8s-namespace-access-deny) below for details.

`vk8s_namespace_access_permit` - (Optional) Empty. This can be used for messages where no values are needed. See [Vk8s Namespace Access Permit](#vk8s-namespace-access-permit) below for details.

### Attributes Reference

In addition to all arguments above, the following attributes are exported:

`id` - (Optional) Unique identifier for the resource (`String`).

---

<a id="nestedblock--cluster_scoped_access_deny"></a>

<a id="nestedblock--cluster_scoped_access_permit"></a>

<a id="nestedblock--cluster_wide_app_list"></a>

<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps"></a>

<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--argo_cd"></a>

<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--argo_cd--local_domain"></a>

<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--dashboard"></a>

<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--metrics_server"></a>

<a id="nestedblock--cluster_wide_app_list--cluster_wide_apps--prometheus"></a>

<a id="nestedblock--global_access_enable"></a>

<a id="nestedblock--insecure_registry_list"></a>

<a id="nestedblock--local_access_config"></a>

<a id="nestedblock--local_access_config--default_port"></a>

<a id="nestedblock--no_cluster_wide_apps"></a>

<a id="nestedblock--no_global_access"></a>

<a id="nestedblock--no_insecure_registries"></a>

<a id="nestedblock--no_local_access"></a>

<a id="nestedblock--timeouts"></a>

<a id="nestedblock--use_custom_cluster_role_bindings"></a>

<a id="nestedblock--use_custom_cluster_role_bindings--cluster_role_bindings"></a>

<a id="nestedblock--use_custom_cluster_role_list"></a>

<a id="nestedblock--use_custom_cluster_role_list--cluster_roles"></a>

<a id="nestedblock--use_custom_pod_security_admission"></a>

<a id="nestedblock--use_custom_psp_list"></a>

<a id="nestedblock--use_custom_psp_list--pod_security_policies"></a>

<a id="nestedblock--use_default_cluster_role_bindings"></a>

<a id="nestedblock--use_default_cluster_roles"></a>

<a id="nestedblock--use_default_pod_security_admission"></a>

<a id="nestedblock--use_default_psp"></a>

<a id="nestedblock--vk8s_namespace_access_deny"></a>

<a id="nestedblock--vk8s_namespace_access_permit"></a>

## Import

Import is supported using the following syntax:

```shell
# Import using namespace/name format
terraform import f5xc_k8s_cluster.example system/example
```
