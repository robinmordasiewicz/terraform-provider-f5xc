---
page_title: "f5xc_nat_policy Resource - terraform-provider-f5xc"
subcategory: ""
description: |-
  Manages a NatPolicy resource in F5 Distributed Cloud for nat policy create specification configures nat policy with multiple rules, configuration.
---

# f5xc_nat_policy (Resource)

Manages a NatPolicy resource in F5 Distributed Cloud for nat policy create specification configures nat policy with multiple rules, configuration.

~> **Note** For more information about this resource, please refer to the [F5 XC API Documentation](https://docs.cloud.f5.com/docs/api/).

## Example Usage

```terraform
# Nat Policy Resource Example
# Manages a NatPolicy resource in F5 Distributed Cloud for nat policy create specification configures nat policy with multiple rules, configuration.

# Basic Nat Policy configuration
resource "f5xc_nat_policy" "example" {
  name      = "example-nat-policy"
  namespace = "system"

  labels = {
    environment = "production"
    managed_by  = "terraform"
  }

  annotations = {
    "owner" = "platform-team"
  }

  # Resource-specific configuration
    # Rule. List of rules to apply under the NAT Policy. Rule t...
    rules {
      # Configure rules settings
    }
    # Action. Action to apply on the packet if the NAT rule is ...
    action {
      # Configure action settings
    }
    # Dynamic Pool. Dynamic Pool Configuration
    dynamic {
      # Configure dynamic settings
    }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the NatPolicy. Must be unique within the namespace.
- `namespace` (String) Namespace where the NatPolicy will be created.

### Optional

- `annotations` (Map of String) Annotations to apply to this resource.
- `labels` (Map of String) Labels to apply to this resource.
- `rules` (Block List) Rule. List of rules to apply under the NAT Policy. Rule that matches first would be applied (see [below for nested schema](#nestedblock--rules))
- `site` (Block, Optional) Site Reference Type. Reference to Site Object (see [below for nested schema](#nestedblock--site))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) Unique identifier for the resource.

<a id="nestedblock--rules"></a>
### Nested Schema for `rules`

Optional:

- `action` (Block, Optional) Action. Action to apply on the packet if the NAT rule is applied (see [below for nested schema](#nestedblock--rules--action))
- `cloud_connect` (Block, Optional) Cloud Connect Reference Type. Reference to Cloud connect Object (see [below for nested schema](#nestedblock--rules--cloud_connect))
- `criteria` (Block, Optional) Match Criteria. Match criteria of the packet to apply the NAT Rule (see [below for nested schema](#nestedblock--rules--criteria))
- `disable` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--disable))
- `enable` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--enable))
- `name` (String) Name. Name of the Rule
- `network_interface` (Block, Optional) NetworkInterface Reference Type. Reference to Network Interface Object (see [below for nested schema](#nestedblock--rules--network_interface))
- `segment` (Block, Optional) Segment Reference Type. Reference to Segment Object (see [below for nested schema](#nestedblock--rules--segment))
- `virtual_network` (Block, Optional) Virtual Network Reference Type. Carries the reference to virtual network (see [below for nested schema](#nestedblock--rules--virtual_network))

<a id="nestedblock--rules--action"></a>
### Nested Schema for `rules.action`

Optional:

- `dynamic` (Block, Optional) Dynamic Pool. Dynamic Pool Configuration (see [below for nested schema](#nestedblock--rules--action--dynamic))
- `virtual_cidr` (String) Virtual Subnet NAT. Virtual Subnet NAT is static NAT that does a one-to-one translation between the real source IP CIDR in the policy and the virtual CIDR in a bidirectional fashion. The range of the real CIDR and virtual CIDRs should be the same (e.g. if the real CIDR has the CIDR 10.10.10.0/24, the virtual CIDR has 100.100.100.0/24.

<a id="nestedblock--rules--action--dynamic"></a>
### Nested Schema for `rules.action.dynamic`

Optional:

- `elastic_ips` (Block, Optional) Cloud Elastic IP Ref List. List of references to Cloud Elastic IP Object (see [below for nested schema](#nestedblock--rules--action--dynamic--elastic_ips))
- `pools` (Block, Optional) IPv4 Prefix List. x-example: '192.168.20.0/24' List of IPv4 prefixes that represent an endpoint (see [below for nested schema](#nestedblock--rules--action--dynamic--pools))

<a id="nestedblock--rules--action--dynamic--elastic_ips"></a>
### Nested Schema for `rules.action.dynamic.elastic_ips`


<a id="nestedblock--rules--action--dynamic--pools"></a>
### Nested Schema for `rules.action.dynamic.pools`




<a id="nestedblock--rules--cloud_connect"></a>
### Nested Schema for `rules.cloud_connect`

Optional:

- `refs` (Block List) Cloud Connect. Reference to Cloud Connect Object (see [below for nested schema](#nestedblock--rules--cloud_connect--refs))

<a id="nestedblock--rules--cloud_connect--refs"></a>
### Nested Schema for `rules.cloud_connect.refs`

Optional:

- `kind` (String) Kind. When a configuration object(e.g. virtual_host) refers to another(e.g route) then kind will hold the referred object's kind (e.g. 'route')
- `name` (String) Name. When a configuration object(e.g. virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. route's) name.
- `namespace` (String) Namespace. When a configuration object(e.g. virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. route's) namespace.
- `tenant` (String) Tenant. When a configuration object(e.g. virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. route's) tenant.
- `uid` (String) UID. When a configuration object(e.g. virtual_host) refers to another(e.g route) then uid will hold the referred object's(e.g. route's) uid.



<a id="nestedblock--rules--criteria"></a>
### Nested Schema for `rules.criteria`

Optional:

- `any` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--criteria--any))
- `destination_cidr` (List of String) Destination IP. Destination IP of the packet to match
- `destination_port` (Block, Optional) Port to Match. Port match of the request can be a range or a specific port (see [below for nested schema](#nestedblock--rules--criteria--destination_port))
- `icmp` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--criteria--icmp))
- `protocol` (String) Protocols. Protocols like TCP, UDP. Possible values are `ALL`, `ICMP`, `TCP`, `UDP`.
- `segment` (Block, Optional) Segment Reference Type. Reference to Segment Object (see [below for nested schema](#nestedblock--rules--criteria--segment))
- `source_cidr` (List of String) Source IP. Source IP of the packet to match
- `source_port` (Block, Optional) Port to Match. Port match of the request can be a range or a specific port (see [below for nested schema](#nestedblock--rules--criteria--source_port))
- `tcp` (Block, Optional) Port Match Configuration. Action to apply on the packet if the NAT rule is applied (see [below for nested schema](#nestedblock--rules--criteria--tcp))
- `udp` (Block, Optional) Port Match Configuration. Action to apply on the packet if the NAT rule is applied (see [below for nested schema](#nestedblock--rules--criteria--udp))
- `virtual_network` (Block, Optional) Virtual Network Reference Type. Carries the reference to virtual network (see [below for nested schema](#nestedblock--rules--criteria--virtual_network))

<a id="nestedblock--rules--criteria--any"></a>
### Nested Schema for `rules.criteria.any`


<a id="nestedblock--rules--criteria--destination_port"></a>
### Nested Schema for `rules.criteria.destination_port`

Optional:

- `no_port_match` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--criteria--destination_port--no_port_match))
- `port` (Number) Port. Exact Port to match
- `port_ranges` (String) Port range. Port range to match

<a id="nestedblock--rules--criteria--destination_port--no_port_match"></a>
### Nested Schema for `rules.criteria.destination_port.no_port_match`



<a id="nestedblock--rules--criteria--icmp"></a>
### Nested Schema for `rules.criteria.icmp`


<a id="nestedblock--rules--criteria--segment"></a>
### Nested Schema for `rules.criteria.segment`

Optional:

- `refs` (Block List) Segment. Reference to Segment Object (see [below for nested schema](#nestedblock--rules--criteria--segment--refs))

<a id="nestedblock--rules--criteria--segment--refs"></a>
### Nested Schema for `rules.criteria.segment.refs`



<a id="nestedblock--rules--criteria--source_port"></a>
### Nested Schema for `rules.criteria.source_port`

Optional:

- `no_port_match` (Block, Optional) Empty. This can be used for messages where no values are needed (see [below for nested schema](#nestedblock--rules--criteria--source_port--no_port_match))
- `port` (Number) Port. Exact Port to match
- `port_ranges` (String) Port range. Port range to match

<a id="nestedblock--rules--criteria--source_port--no_port_match"></a>
### Nested Schema for `rules.criteria.source_port.no_port_match`



<a id="nestedblock--rules--criteria--tcp"></a>
### Nested Schema for `rules.criteria.tcp`

Optional:

- `destination_port` (Block, Optional) Port to Match. Port match of the request can be a range or a specific port (see [below for nested schema](#nestedblock--rules--criteria--tcp--destination_port))
- `source_port` (Block, Optional) Port to Match. Port match of the request can be a range or a specific port (see [below for nested schema](#nestedblock--rules--criteria--tcp--source_port))

<a id="nestedblock--rules--criteria--tcp--destination_port"></a>
### Nested Schema for `rules.criteria.tcp.destination_port`


<a id="nestedblock--rules--criteria--tcp--source_port"></a>
### Nested Schema for `rules.criteria.tcp.source_port`



<a id="nestedblock--rules--criteria--udp"></a>
### Nested Schema for `rules.criteria.udp`

Optional:

- `destination_port` (Block, Optional) Port to Match. Port match of the request can be a range or a specific port (see [below for nested schema](#nestedblock--rules--criteria--udp--destination_port))
- `source_port` (Block, Optional) Port to Match. Port match of the request can be a range or a specific port (see [below for nested schema](#nestedblock--rules--criteria--udp--source_port))

<a id="nestedblock--rules--criteria--udp--destination_port"></a>
### Nested Schema for `rules.criteria.udp.destination_port`


<a id="nestedblock--rules--criteria--udp--source_port"></a>
### Nested Schema for `rules.criteria.udp.source_port`



<a id="nestedblock--rules--criteria--virtual_network"></a>
### Nested Schema for `rules.criteria.virtual_network`

Optional:

- `refs` (Block List) Virtual Network Reference. Reference to virtual network (see [below for nested schema](#nestedblock--rules--criteria--virtual_network--refs))

<a id="nestedblock--rules--criteria--virtual_network--refs"></a>
### Nested Schema for `rules.criteria.virtual_network.refs`




<a id="nestedblock--rules--disable"></a>
### Nested Schema for `rules.disable`


<a id="nestedblock--rules--enable"></a>
### Nested Schema for `rules.enable`


<a id="nestedblock--rules--network_interface"></a>
### Nested Schema for `rules.network_interface`

Optional:

- `refs` (Block List) Network Interface. Reference to Network Interface Object (see [below for nested schema](#nestedblock--rules--network_interface--refs))

<a id="nestedblock--rules--network_interface--refs"></a>
### Nested Schema for `rules.network_interface.refs`

Optional:

- `kind` (String) Kind. When a configuration object(e.g. virtual_host) refers to another(e.g route) then kind will hold the referred object's kind (e.g. 'route')
- `name` (String) Name. When a configuration object(e.g. virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. route's) name.
- `namespace` (String) Namespace. When a configuration object(e.g. virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. route's) namespace.
- `tenant` (String) Tenant. When a configuration object(e.g. virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. route's) tenant.
- `uid` (String) UID. When a configuration object(e.g. virtual_host) refers to another(e.g route) then uid will hold the referred object's(e.g. route's) uid.



<a id="nestedblock--rules--segment"></a>
### Nested Schema for `rules.segment`

Optional:

- `refs` (Block List) Segment. Reference to Segment Object (see [below for nested schema](#nestedblock--rules--segment--refs))

<a id="nestedblock--rules--segment--refs"></a>
### Nested Schema for `rules.segment.refs`

Optional:

- `kind` (String) Kind. When a configuration object(e.g. virtual_host) refers to another(e.g route) then kind will hold the referred object's kind (e.g. 'route')
- `name` (String) Name. When a configuration object(e.g. virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. route's) name.
- `namespace` (String) Namespace. When a configuration object(e.g. virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. route's) namespace.
- `tenant` (String) Tenant. When a configuration object(e.g. virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. route's) tenant.
- `uid` (String) UID. When a configuration object(e.g. virtual_host) refers to another(e.g route) then uid will hold the referred object's(e.g. route's) uid.



<a id="nestedblock--rules--virtual_network"></a>
### Nested Schema for `rules.virtual_network`

Optional:

- `refs` (Block List) Virtual Network Reference. Reference to virtual network (see [below for nested schema](#nestedblock--rules--virtual_network--refs))

<a id="nestedblock--rules--virtual_network--refs"></a>
### Nested Schema for `rules.virtual_network.refs`

Optional:

- `kind` (String) Kind. When a configuration object(e.g. virtual_host) refers to another(e.g route) then kind will hold the referred object's kind (e.g. 'route')
- `name` (String) Name. When a configuration object(e.g. virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. route's) name.
- `namespace` (String) Namespace. When a configuration object(e.g. virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. route's) namespace.
- `tenant` (String) Tenant. When a configuration object(e.g. virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. route's) tenant.
- `uid` (String) UID. When a configuration object(e.g. virtual_host) refers to another(e.g route) then uid will hold the referred object's(e.g. route's) uid.




<a id="nestedblock--site"></a>
### Nested Schema for `site`

Optional:

- `refs` (Block List) Site. Reference to Site Object (see [below for nested schema](#nestedblock--site--refs))

<a id="nestedblock--site--refs"></a>
### Nested Schema for `site.refs`

Optional:

- `kind` (String) Kind. When a configuration object(e.g. virtual_host) refers to another(e.g route) then kind will hold the referred object's kind (e.g. 'route')
- `name` (String) Name. When a configuration object(e.g. virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. route's) name.
- `namespace` (String) Namespace. When a configuration object(e.g. virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. route's) namespace.
- `tenant` (String) Tenant. When a configuration object(e.g. virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. route's) tenant.
- `uid` (String) UID. When a configuration object(e.g. virtual_host) refers to another(e.g route) then uid will hold the referred object's(e.g. route's) uid.



<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
# Import using namespace/name format
terraform import f5xc_nat_policy.example system/example
```
