---
page_title: "f5xc_policy_based_routing Resource - terraform-provider-f5xc"
subcategory: "Networking"
description: |-
  Manages a Policy Based Routing resource in F5 Distributed Cloud for network policy based routing create specification. configuration.
---

# f5xc_policy_based_routing (Resource)

Manages a Policy Based Routing resource in F5 Distributed Cloud for network policy based routing create specification. configuration.

~> **Note** For more information about this resource, please refer to the [F5 XC API Documentation](https://docs.cloud.f5.com/docs/api/).

## Example Usage

```terraform
# Policy Based Routing Resource Example
# Manages a Policy Based Routing resource in F5 Distributed Cloud for network policy based routing create specification. configuration.

# Basic Policy Based Routing configuration
resource "f5xc_policy_based_routing" "example" {
  name      = "example-policy-based-routing"
  namespace = "staging"

  labels = {
    environment = "production"
    managed_by  = "terraform"
  }

  annotations = {
    "owner" = "platform-team"
  }

  # Resource-specific configuration
  # [OneOf: forward_proxy_pbr, network_pbr] L3/L4 routing rul...
  forward_proxy_pbr {
    # Configure forward_proxy_pbr settings
  }
  # L3/L4 routing rules. Network(L3/L4) routing policy rules.
  forward_proxy_pbr_rules {
    # Configure forward_proxy_pbr_rules settings
  }
  # Enable this option
  all_destinations {
    # Configure all_destinations settings
  }
}
```

<!-- schema generated by tfplugindocs -->
## Argument Reference

### Metadata Argument Reference

<a id="name"></a>&#x2022; [`name`](#name) - Required String<br>Name of the Policy Based Routing. Must be unique within the namespace

<a id="namespace"></a>&#x2022; [`namespace`](#namespace) - Required String<br>Namespace where the Policy Based Routing will be created

<a id="annotations"></a>&#x2022; [`annotations`](#annotations) - Optional Map<br>Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata

<a id="description"></a>&#x2022; [`description`](#description) - Optional String<br>Human readable description for the object

<a id="disable"></a>&#x2022; [`disable`](#disable) - Optional Bool<br>A value of true will administratively disable the object

<a id="labels"></a>&#x2022; [`labels`](#labels) - Optional Map<br>Labels is a user defined key value map that can be attached to resources for organization and filtering

### Spec Argument Reference

-> **One of the following:**
&#x2022; <a id="forward-proxy-pbr"></a>[`forward_proxy_pbr`](#forward-proxy-pbr) - Optional Block<br>L3/L4 routing rule. Network(L3/L4) routing policy rule<br>See [Forward Proxy Pbr](#forward-proxy-pbr) below for details.
<br><br>&#x2022; <a id="network-pbr"></a>[`network_pbr`](#network-pbr) - Optional Block<br>Network (L2/L3) routing Policy. Network(L3/L4) routing policy rule<br>See [Network Pbr](#network-pbr) below for details.

<a id="forwarding-class-list"></a>&#x2022; [`forwarding_class_list`](#forwarding-class-list) - Optional Block<br>Default Forwarding Classes. Ordered list of forwarding Class to be used if source application match and no rule match<br>See [Forwarding Class List](#forwarding-class-list) below for details.

<a id="timeouts"></a>&#x2022; [`timeouts`](#timeouts) - Optional Block<br>See [Timeouts](#timeouts) below for details.

### Attributes Reference

In addition to all arguments above, the following attributes are exported:

<a id="id"></a>&#x2022; [`id`](#id) - Optional String<br>Unique identifier for the resource

---

#### Forward Proxy Pbr

A [`forward_proxy_pbr`](#forward-proxy-pbr) block supports the following:

<a id="rules-67a5cc"></a>&#x2022; [`forward_proxy_pbr_rules`](#rules-67a5cc) - Optional Block<br>L3/L4 routing rules. Network(L3/L4) routing policy rules<br>See [Forward Proxy Pbr Rules](#rules-67a5cc) below.

#### Forward Proxy Pbr Forward Proxy Pbr Rules

A [`forward_proxy_pbr_rules`](#rules-67a5cc) block (within [`forward_proxy_pbr`](#forward-proxy-pbr)) supports the following:

<a id="destinations-1e0cd9"></a>&#x2022; [`all_destinations`](#destinations-1e0cd9) - Optional Block<br>Enable this option

<a id="sources-4f8004"></a>&#x2022; [`all_sources`](#sources-4f8004) - Optional Block<br>Enable this option

<a id="list-a3b35a"></a>&#x2022; [`forwarding_class_list`](#list-a3b35a) - Optional Block<br>Forwarding Class. Ordered list of forwarding Class to be used if no rule match<br>See [Forwarding Class List](#list-a3b35a) below.

<a id="list-892bc2"></a>&#x2022; [`http_list`](#list-892bc2) - Optional Block<br>URLListType<br>See [HTTP List](#list-892bc2) below.

<a id="set-b84ad7"></a>&#x2022; [`ip_prefix_set`](#set-b84ad7) - Optional Block<br>Object reference. This type establishes a direct reference from one object(the referrer) to another(the referred). Such a reference is in form of tenant/namespace/name<br>See [IP Prefix Set](#set-b84ad7) below.

<a id="selector-c5a5b4"></a>&#x2022; [`label_selector`](#selector-c5a5b4) - Optional Block<br>Label Selector. This type can be used to establish a 'selector reference' from one object(called selector) to a set of other objects(called selectees) based on the value of expresssions. A label selector is a label query over a set of resources. An empty label selector matches all objects. A null label selector matches no objects. Label selector is immutable. Expressions is a list of strings of label selection expression. Each string has ',' separated values which are 'AND' and all strings are logically 'OR'. BNF for expression string `<selector-syntax>` ::= `<requirement>` | `<requirement>` ',' `<selector-syntax>` `<requirement>` ::= [!] KEY [ `<set-based-restriction>` | `<exact-match-restriction>` ] `<set-based-restriction>` ::= '' | `<inclusion-exclusion>` `<value-set>` `<inclusion-exclusion>` ::= `<inclusion>` | `<exclusion>` `<exclusion>` ::= 'notin' `<inclusion>` ::= 'in' `<value-set>` ::= '(' `<values>` ')' `<values>` ::= VALUE | VALUE ',' `<values>` `<exact-match-restriction>` ::= ['='|'=='|'!='] VALUE<br>See [Label Selector](#selector-c5a5b4) below.

<a id="metadata-4bce2b"></a>&#x2022; [`metadata`](#metadata-4bce2b) - Optional Block<br>Message Metadata. MessageMetaType is metadata (common attributes) of a message that only certain messages have. This information is propagated to the metadata of a child object that gets created from the containing message during view processing. The information in this type can be specified by user during create and replace APIs<br>See [Metadata](#metadata-4bce2b) below.

<a id="list-b2cc8b"></a>&#x2022; [`prefix_list`](#list-b2cc8b) - Optional Block<br>IPv4 Prefix List. List of IPv4 prefixes that represent an endpoint<br>See [Prefix List](#list-b2cc8b) below.

<a id="list-cd1082"></a>&#x2022; [`tls_list`](#list-cd1082) - Optional Block<br>DomainListType<br>See [TLS List](#list-cd1082) below.

#### Forward Proxy Pbr Forward Proxy Pbr Rules Forwarding Class List

<a id="deep-959403"></a>Deeply nested **List** block collapsed for readability.

#### Forward Proxy Pbr Forward Proxy Pbr Rules HTTP List

<a id="deep-6e45a7"></a>Deeply nested **List** block collapsed for readability.

#### Forward Proxy Pbr Forward Proxy Pbr Rules HTTP List HTTP List

<a id="deep-f6a812"></a>Deeply nested **List** block collapsed for readability.

#### Forward Proxy Pbr Forward Proxy Pbr Rules IP Prefix Set

<a id="deep-362d64"></a>Deeply nested **Set** block collapsed for readability.

#### Forward Proxy Pbr Forward Proxy Pbr Rules Label Selector

<a id="deep-2f3feb"></a>Deeply nested **Selector** block collapsed for readability.

#### Forward Proxy Pbr Forward Proxy Pbr Rules Metadata

<a id="deep-879217"></a>Deeply nested **Metadata** block collapsed for readability.

#### Forward Proxy Pbr Forward Proxy Pbr Rules Prefix List

<a id="deep-27b3a7"></a>Deeply nested **List** block collapsed for readability.

#### Forward Proxy Pbr Forward Proxy Pbr Rules TLS List

<a id="deep-da01da"></a>Deeply nested **List** block collapsed for readability.

#### Forward Proxy Pbr Forward Proxy Pbr Rules TLS List TLS List

<a id="deep-872ea2"></a>Deeply nested **List** block collapsed for readability.

#### Forwarding Class List

A [`forwarding_class_list`](#forwarding-class-list) block supports the following:

<a id="forwarding-class-list-name"></a>&#x2022; [`name`](#forwarding-class-list-name) - Optional String<br>Name. When a configuration object(e.g. Virtual_host) refers to another(e.g route) then name will hold the referred object's(e.g. Route's) name

<a id="forwarding-class-list-namespace"></a>&#x2022; [`namespace`](#forwarding-class-list-namespace) - Optional String<br>Namespace. When a configuration object(e.g. Virtual_host) refers to another(e.g route) then namespace will hold the referred object's(e.g. Route's) namespace

<a id="forwarding-class-list-tenant"></a>&#x2022; [`tenant`](#forwarding-class-list-tenant) - Optional String<br>Tenant. When a configuration object(e.g. Virtual_host) refers to another(e.g route) then tenant will hold the referred object's(e.g. Route's) tenant

#### Network Pbr

A [`network_pbr`](#network-pbr) block supports the following:

<a id="network-pbr-any"></a>&#x2022; [`any`](#network-pbr-any) - Optional Block<br>Enable this option

<a id="network-pbr-label-selector"></a>&#x2022; [`label_selector`](#network-pbr-label-selector) - Optional Block<br>Label Selector. This type can be used to establish a 'selector reference' from one object(called selector) to a set of other objects(called selectees) based on the value of expresssions. A label selector is a label query over a set of resources. An empty label selector matches all objects. A null label selector matches no objects. Label selector is immutable. Expressions is a list of strings of label selection expression. Each string has ',' separated values which are 'AND' and all strings are logically 'OR'. BNF for expression string `<selector-syntax>` ::= `<requirement>` | `<requirement>` ',' `<selector-syntax>` `<requirement>` ::= [!] KEY [ `<set-based-restriction>` | `<exact-match-restriction>` ] `<set-based-restriction>` ::= '' | `<inclusion-exclusion>` `<value-set>` `<inclusion-exclusion>` ::= `<inclusion>` | `<exclusion>` `<exclusion>` ::= 'notin' `<inclusion>` ::= 'in' `<value-set>` ::= '(' `<values>` ')' `<values>` ::= VALUE | VALUE ',' `<values>` `<exact-match-restriction>` ::= ['='|'=='|'!='] VALUE<br>See [Label Selector](#network-pbr-label-selector) below.

<a id="network-pbr-network-pbr-rules"></a>&#x2022; [`network_pbr_rules`](#network-pbr-network-pbr-rules) - Optional Block<br>L3/L4 Destination Routing Rules. Network(L3/L4) routing policy rule<br>See [Network Pbr Rules](#network-pbr-network-pbr-rules) below.

<a id="network-pbr-prefix-list"></a>&#x2022; [`prefix_list`](#network-pbr-prefix-list) - Optional Block<br>IPv4 Prefix List. List of IPv4 prefixes that represent an endpoint<br>See [Prefix List](#network-pbr-prefix-list) below.

#### Network Pbr Label Selector

A [`label_selector`](#network-pbr-label-selector) block (within [`network_pbr`](#network-pbr)) supports the following:

<a id="network-pbr-label-selector-expressions"></a>&#x2022; [`expressions`](#network-pbr-label-selector-expressions) - Optional List<br>Selector Expression. Expressions contains the Kubernetes style label expression for selections

#### Network Pbr Network Pbr Rules

A [`network_pbr_rules`](#network-pbr-network-pbr-rules) block (within [`network_pbr`](#network-pbr)) supports the following:

<a id="traffic-e56c3b"></a>&#x2022; [`all_tcp_traffic`](#traffic-e56c3b) - Optional Block<br>Enable this option

<a id="traffic-5b23a8"></a>&#x2022; [`all_traffic`](#traffic-5b23a8) - Optional Block<br>Enable this option

<a id="traffic-d923ff"></a>&#x2022; [`all_udp_traffic`](#traffic-d923ff) - Optional Block<br>Enable this option

<a id="network-pbr-network-pbr-rules-any"></a>&#x2022; [`any`](#network-pbr-network-pbr-rules-any) - Optional Block<br>Enable this option

<a id="applications-913ddd"></a>&#x2022; [`applications`](#applications-913ddd) - Optional Block<br>Applications. Application protocols like HTTP, SNMP<br>See [Applications](#applications-913ddd) below.

<a id="network-pbr-network-pbr-rules-dns-name"></a>&#x2022; [`dns_name`](#network-pbr-network-pbr-rules-dns-name) - Optional String<br>DNS Name to IP. Resolve hostname to GET the IP

<a id="list-b3bc91"></a>&#x2022; [`forwarding_class_list`](#list-b3bc91) - Optional Block<br>Forwarding Classes. Ordered list of forwarding Class to be used if rule match<br>See [Forwarding Class List](#list-b3bc91) below.

<a id="set-4a1382"></a>&#x2022; [`ip_prefix_set`](#set-4a1382) - Optional Block<br>IP Prefix Set Reference. A list of references to ip_prefix_set objects<br>See [IP Prefix Set](#set-4a1382) below.

<a id="network-pbr-network-pbr-rules-metadata"></a>&#x2022; [`metadata`](#network-pbr-network-pbr-rules-metadata) - Optional Block<br>Message Metadata. MessageMetaType is metadata (common attributes) of a message that only certain messages have. This information is propagated to the metadata of a child object that gets created from the containing message during view processing. The information in this type can be specified by user during create and replace APIs<br>See [Metadata](#network-pbr-network-pbr-rules-metadata) below.

<a id="list-1fa06a"></a>&#x2022; [`prefix_list`](#list-1fa06a) - Optional Block<br>IPv4 Prefix List. List of IPv4 prefixes that represent an endpoint<br>See [Prefix List](#list-1fa06a) below.

<a id="range-c03943"></a>&#x2022; [`protocol_port_range`](#range-c03943) - Optional Block<br>Protocol and Port. Protocol and Port ranges<br>See [Protocol Port Range](#range-c03943) below.

#### Network Pbr Network Pbr Rules Applications

An [`applications`](#applications-913ddd) block (within [`network_pbr.network_pbr_rules`](#network-pbr-network-pbr-rules)) supports the following:

<a id="applications-535a80"></a>&#x2022; [`applications`](#applications-535a80) - Optional List  Defaults to `APPLICATION_HTTP`<br>Possible values are `APPLICATION_HTTP`, `APPLICATION_HTTPS`, `APPLICATION_SNMP`, `APPLICATION_DNS`<br>[Enum: APPLICATION_HTTP|APPLICATION_HTTPS|APPLICATION_SNMP|APPLICATION_DNS] Application Protocols. Application protocols like HTTP, SNMP

#### Network Pbr Network Pbr Rules Forwarding Class List

<a id="deep-1ae93a"></a>Deeply nested **List** block collapsed for readability.

#### Network Pbr Network Pbr Rules IP Prefix Set

<a id="deep-047bc9"></a>Deeply nested **Set** block collapsed for readability.

#### Network Pbr Network Pbr Rules IP Prefix Set Ref

<a id="deep-91066f"></a>Deeply nested **Ref** block collapsed for readability.

#### Network Pbr Network Pbr Rules Metadata

A [`metadata`](#network-pbr-network-pbr-rules-metadata) block (within [`network_pbr.network_pbr_rules`](#network-pbr-network-pbr-rules)) supports the following:

<a id="spec-92545f"></a>&#x2022; [`description_spec`](#spec-92545f) - Optional String<br>Description. Human readable description

<a id="name-2c010e"></a>&#x2022; [`name`](#name-2c010e) - Optional String<br>Name. This is the name of the message. The value of name has to follow DNS-1035 format

#### Network Pbr Network Pbr Rules Prefix List

A [`prefix_list`](#list-1fa06a) block (within [`network_pbr.network_pbr_rules`](#network-pbr-network-pbr-rules)) supports the following:

<a id="prefixes-97d3ee"></a>&#x2022; [`prefixes`](#prefixes-97d3ee) - Optional List<br>IPv4 Prefix List. List of IPv4 prefixes that represent an endpoint

#### Network Pbr Network Pbr Rules Protocol Port Range

<a id="deep-45860e"></a>Deeply nested **Range** block collapsed for readability.

#### Network Pbr Prefix List

A [`prefix_list`](#network-pbr-prefix-list) block (within [`network_pbr`](#network-pbr)) supports the following:

<a id="network-pbr-prefix-list-prefixes"></a>&#x2022; [`prefixes`](#network-pbr-prefix-list-prefixes) - Optional List<br>IPv4 Prefix List. List of IPv4 prefixes that represent an endpoint

#### Timeouts

A [`timeouts`](#timeouts) block supports the following:

<a id="timeouts-create"></a>&#x2022; [`create`](#timeouts-create) - Optional String (Defaults to `10 minutes`)<br>Used when creating the resource

<a id="timeouts-delete"></a>&#x2022; [`delete`](#timeouts-delete) - Optional String (Defaults to `10 minutes`)<br>Used when deleting the resource

<a id="timeouts-read"></a>&#x2022; [`read`](#timeouts-read) - Optional String (Defaults to `5 minutes`)<br>Used when retrieving the resource

<a id="timeouts-update"></a>&#x2022; [`update`](#timeouts-update) - Optional String (Defaults to `10 minutes`)<br>Used when updating the resource

---

## Common Types

The following type definitions are used throughout this resource. See the full definition here rather than repeated inline.

### Object Reference {#common-object-reference}

Object references establish a direct reference from one configuration object to another in F5 Distributed Cloud. References use the format `tenant/namespace/name`.

| Field | Type | Description |
| ----- | ---- | ----------- |
| `name` | String | Name of the referenced object |
| `namespace` | String | Namespace containing the referenced object |
| `tenant` | String | Tenant of the referenced object (system-managed) |

### Transformers {#common-transformers}

Transformers apply transformations to input values before matching. Multiple transformers can be applied in order.

| Value | Description |
| ----- | ----------- |
| `LOWER_CASE` | Convert to lowercase |
| `UPPER_CASE` | Convert to uppercase |
| `BASE64_DECODE` | Decode base64 content |
| `NORMALIZE_PATH` | Normalize URL path |
| `REMOVE_WHITESPACE` | Remove whitespace characters |
| `URL_DECODE` | Decode URL-encoded characters |
| `TRIM_LEFT` | Trim leading whitespace |
| `TRIM_RIGHT` | Trim trailing whitespace |
| `TRIM` | Trim both leading and trailing whitespace |

### HTTP Methods {#common-http-methods}

HTTP methods used for request matching.

| Value | Description |
| ----- | ----------- |
| `ANY` | Match any HTTP method |
| `GET` | HTTP GET request |
| `HEAD` | HTTP HEAD request |
| `POST` | HTTP POST request |
| `PUT` | HTTP PUT request |
| `DELETE` | HTTP DELETE request |
| `CONNECT` | HTTP CONNECT request |
| `OPTIONS` | HTTP OPTIONS request |
| `TRACE` | HTTP TRACE request |
| `PATCH` | HTTP PATCH request |
| `COPY` | HTTP COPY request (WebDAV) |

### TLS Fingerprints {#common-tls-fingerprints}

TLS fingerprint categories for malicious client detection.

| Value | Description |
| ----- | ----------- |
| `TLS_FINGERPRINT_NONE` | No fingerprint matching |
| `ANY_MALICIOUS_FINGERPRINT` | Match any known malicious fingerprint |
| `ADWARE` | Adware-associated fingerprints |
| `DRIDEX` | Dridex malware fingerprints |
| `GOOTKIT` | Gootkit malware fingerprints |
| `RANSOMWARE` | Ransomware-associated fingerprints |
| `TRICKBOT` | Trickbot malware fingerprints |

### IP Threat Categories {#common-ip-threat-categories}

IP address threat categories for security filtering.

| Value | Description |
| ----- | ----------- |
| `SPAM_SOURCES` | Known spam sources |
| `WINDOWS_EXPLOITS` | Windows exploit sources |
| `WEB_ATTACKS` | Web attack sources |
| `BOTNETS` | Known botnet IPs |
| `SCANNERS` | Network scanner IPs |
| `REPUTATION` | Poor reputation IPs |
| `PHISHING` | Phishing-related IPs |
| `PROXY` | Anonymous proxy IPs |
| `MOBILE_THREATS` | Mobile threat sources |
| `TOR_PROXY` | Tor exit nodes |
| `DENIAL_OF_SERVICE` | DoS attack sources |
| `NETWORK` | Known bad network ranges |

## Import

Import is supported using the following syntax:

```shell
# Import using namespace/name format
terraform import f5xc_policy_based_routing.example system/example
```
