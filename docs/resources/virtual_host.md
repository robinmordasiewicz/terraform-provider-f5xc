---
page_title: "f5xc_virtual_host Resource - terraform-provider-f5xc"
subcategory: "Load Balancing"
description: |-
  Manages virtual host in a given namespace. in F5 Distributed Cloud.
---

# f5xc_virtual_host (Resource)

Manages virtual host in a given namespace. in F5 Distributed Cloud.

~> **Note** For more information about this resource, please refer to the [F5 XC API Documentation](https://docs.cloud.f5.com/docs/api/).

## Example Usage

```terraform
# Virtual Host Resource Example
# Manages virtual host in a given namespace. in F5 Distributed Cloud.

# Basic Virtual Host configuration
resource "f5xc_virtual_host" "example" {
  name      = "example-virtual-host"
  namespace = "system"

  labels = {
    environment = "production"
    managed_by  = "terraform"
  }

  annotations = {
    "owner" = "platform-team"
  }

  # Resource-specific configuration
  # Advertise Policies. Advertise Policy allows you to define...
  advertise_policies {
    # Configure advertise_policies settings
  }
  # [OneOf: authentication, no_authentication] Authentication...
  authentication {
    # Configure authentication settings
  }
  # Reference to Authentication Object. Reference to Authenti...
  auth_config {
    # Configure auth_config settings
  }
}
```

<!-- schema generated by tfplugindocs -->
## Argument Reference

### Metadata Argument Reference

`name` - (Required) Name of the VirtualHost. Must be unique within the namespace (`String`).

`namespace` - (Required) Namespace where the VirtualHost will be created (`String`).

`annotations` - (Optional) Annotations to apply to this resource (`Map`).

`labels` - (Optional) Labels to apply to this resource (`Map`).

### Spec Argument Reference

`add_location` - (Optional) Add Location. x-example: true Appends header x-volterra-location = <RE-site-name> in responses. This configuration is ignored on CE sites (`Bool`).

`advertise_policies` - (Optional) Advertise Policies. Advertise Policy allows you to define networks or sites where you want a VIP for this virtual host to be advertised. Each Policy rule can have different parameters, like TLS configuration, ports, optionally IP address to be used for VIP. If advertise policy is not specified then no VIP is assigned for this virtual host. See [Advertise Policies](#advertise-policies) below for details.

`append_server_name` - (Optional) Append Server Name if absent. Specifies the value to be used for Server header if it is not already present. If Server Header is already present it is not overwritten. It is just passed (`String`).

`authentication` - (Optional) Authentication Details. Authentication related information. This allows to configure the URL to redirect after the authentication Authentication Object Reference, configuration of cookie params etc. See [Authentication](#authentication) below for details.

`buffer_policy` - (Optional) Buffer Configuration. Some upstream applications are not capable of handling streamed data. This config enables buffering the entire request before sending to upstream application. We can specify the maximum buffer size and buffer interval with this config. Buffering can be enabled and disabled at VirtualHost and Route levels Route level buffer configuration takes precedence. See [Buffer Policy](#buffer-policy) below for details.

`captcha_challenge` - (Optional) Captcha Challenge Parameters. Enables loadbalancer to perform captcha challenge Captcha challenge will be based on Google Recaptcha. With this feature enabled, only clients that pass the captcha challenge will be allowed to complete the HTTP request. When loadbalancer is configured to do Captcha Challenge, it will redirect the browser to an HTML page on every new HTTP request. This HTML page will have captcha challenge embedded in it. Client will be allowed to make the request only if the cap... See [Captcha Challenge](#captcha-challenge) below for details.

`coalescing_options` - (Optional) TLS Coalescing Options. TLS connection coalescing configuration (not compatible with mTLS). See [Coalescing Options](#coalescing-options) below for details.

`compression_params` - (Optional) Compression Parameters. Enables loadbalancer to compress dispatched data from an upstream service upon client request. The content is compressed and then sent to the client with the appropriate headers if either response and request allow. Only GZIP compression is supported. By default compression will be skipped when: A request does NOT contain accept-encoding header. A request includes accept-encoding header, but it does not contain “gzip” or “*”. A request includes accept-encoding ... See [Compression Params](#compression-params) below for details.

`connection_idle_timeout` - (Optional) Connection Idle Timeout. The idle timeout for downstream connections. The idle timeout is defined as the period in which there are no active requests. When the idle timeout is reached the connection will be closed. Note that request based timeouts mean that HTTP/2 PINGs will not keep the connection alive. This is specified in milliseconds. The default value is 2 minutes (`Number`).

`cors_policy` - (Optional) CORS Policy. Cross-Origin Resource Sharing requests configuration specified at Virtual-host or Route level. Route level configuration takes precedence. An example of an Cross origin HTTP request GET /resources/public-data/ HTTP/1.1 Host: bar.other User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.5; en-US; rv:1.9.1b3pre) Gecko/20081130 Minefield/3.1b3pre Accept: text/HTML,application/xhtml+XML,application/XML;q=0.9,*/*;q=0.8 Accept-Language: en-us,en;q=0.5 Accept-Encoding: gzip,deflate... See [CORS Policy](#cors-policy) below for details.

`csrf_policy` - (Optional) CSRF Policy. To mitigate CSRF attack , the policy checks where a request is coming from to determine if the request's origin is the same as its detination.The policy relies on two pieces of information used in determining if a request originated from the same host. 1. The origin that caused the user agent to issue the request (source origin). 2. The origin that the request is going to (target origin). When the policy evaluating a request, it ensures both pieces of information are present and ... See [CSRF Policy](#csrf-policy) below for details.

`custom_errors` - (Optional) Custom Error Responses. Map of integer error codes as keys and string values that can be used to provide custom HTTP pages for each error code. Key of the map can be either response code class or HTTP Error code. Response code classes for key is configured as follows 3 -- for 3xx response code class 4 -- for 4xx response code class 5 -- for 5xx response code class Value is the uri_ref. Currently supported URL schemes is string:///. For string:/// scheme, message needs to be encoded in Base64 ... See [Custom Errors](#custom-errors) below for details.

`default_header` - (Optional) Empty. This can be used for messages where no values are needed. See [Default Header](#default-header) below for details.

`default_loadbalancer` - (Optional) Empty. This can be used for messages where no values are needed. See [Default Loadbalancer](#default-loadbalancer) below for details.

`disable_default_error_pages` - (Optional) Disable default error pages. An option to specify whether to disable using default F5XC error pages (`Bool`).

`disable_dns_resolve` - (Optional) Disable DNS resolution. Disable DNS resolution for domains specified in the virtual host When the virtual host is configured as Dynamive Resolve Proxy (DRP), disable DNS resolution for domains configured. This configuration is suitable for HTTP CONNECT proxy (`Bool`).

`disable_path_normalize` - (Optional) Empty. This can be used for messages where no values are needed. See [Disable Path Normalize](#disable-path-normalize) below for details.

`domains` - (Optional) Domains. A list of Domains (host/authority header) that will be matched to this Virtual Host. Wildcard hosts are supported in the suffix or prefix form Supported Domains and search order: 1. Exact Domain names: `www.foo.com.` 2. Domains starting with a Wildcard: *.foo.com. Not supported Domains: - Just a Wildcard: * - A Wildcard and TLD with no root Domain: *.com. - A Wildcard not matching a whole DNS label. e.g. *.foo.com and *.bar.foo.com are valid Wildcards however *bar.foo.com, *-bar.foo.co (`List`).

`dynamic_reverse_proxy` - (Optional) Dynamic Reverse Proxy Type. In this mode of proxy, virtual host will resolve the destination endpoint dynamically. The dynamic resolution is done using a predefined field in the request. This predefined field depends on the ProxyType configured on the Virtual Host. For HTTP traffic, i.e. with ProxyType as HTTP_PROXY or HTTPS_PROXY, virtual host will use the 'HOST' HTTP header from the request and perform DNS resolution to select destination endpoint. For TCP traffic with SNI, (If the ProxyTyp... See [Dynamic Reverse Proxy](#dynamic-reverse-proxy) below for details.

`enable_path_normalize` - (Optional) Empty. This can be used for messages where no values are needed. See [Enable Path Normalize](#enable-path-normalize) below for details.

`http_protocol_options` - (Optional) HTTP Protocol Configuration Options. HTTP protocol configuration options for downstream connections. See [HTTP Protocol Options](#http-protocol-options) below for details.

`idle_timeout` - (Optional) Idle timeout (in milliseconds). Idle timeout is the amount of time that the loadbalancer will allow a stream to exist with no upstream or downstream activity. Idle timeout and Proxy Type: HTTP_PROXY, HTTPS_PROXY: Idle timer is started when the first byte is received on the connection. Each time an encode/decode event for headers or data is processed for the stream, the timer will be reset. If the timeout fires, the stream is terminated with a 504 (Gateway Timeout) error code if no upstream RE (`Number`).

`js_challenge` - (Optional) Javascript Challenge Parameters. Enables loadbalancer to perform client browser compatibility test by redirecting to a page with Javascript. With this feature enabled, only clients that are capable of executing Javascript(mostly browsers) will be allowed to complete the HTTP request. When loadbalancer is configured to do Javascript Challenge, it will redirect the browser to an HTML page on every new HTTP request. This HTML page will have Javascript embedded in it. Loadbalancer chooses a set o... See [Js Challenge](#js-challenge) below for details.

`max_request_header_size` - (Optional) Maximum Request Header Size (KiB). The maximum request header size in KiB for incoming connections. If un-configured, the default max request headers allowed is 60 KiB. Requests that exceed this limit will receive a 431 response. The max configurable limit is 96 KiB, based on current implementation constraints. Note: a. This configuration parameter is applicable only for HTTP_PROXY and HTTPS_PROXY b. When multiple HTTP_PROXY virtual hosts share the same advertise policy, the effective 'maximu (`Number`).

`no_authentication` - (Optional) Empty. This can be used for messages where no values are needed. See [No Authentication](#no-authentication) below for details.

`no_challenge` - (Optional) Empty. This can be used for messages where no values are needed. See [No Challenge](#no-challenge) below for details.

`non_default_loadbalancer` - (Optional) Empty. This can be used for messages where no values are needed. See [Non Default Loadbalancer](#non-default-loadbalancer) below for details.

`pass_through` - (Optional) Empty. This can be used for messages where no values are needed. See [Pass Through](#pass-through) below for details.

`proxy` - (Optional) Type of Proxy. ProxyType tells the type of proxy to install for the virtual host. Only the following combination of VirtualHosts within same AdvertisePolicy is permitted (None of them should have '*' in domains when used with other VirtualHosts in same AdvertisePolicy) 1. Multiple TCP_PROXY_WITH_SNI and multiple HTTPS_PROXY 2. Multiple HTTP_PROXY 3. Multiple HTTPS_PROXY 4. Multiple TCP_PROXY_WITH_SNI HTTPS_PROXY without TLS parameters is not permitted HTTP_PROXY/HTTPS_PROXY/TCP_PROXY_WITH_SNI... Possible values are `UDP_PROXY`, `SMA_PROXY`, `DNS_PROXY`, `ZTNA_PROXY`, `UZTNA_PROXY`. Defaults to `HTTP_PROXY` (`String`).

`rate_limiter_allowed_prefixes` - (Optional) Rate Limiter Allowed Prefixes. References to ip_prefix_set objects. Requests from source IP addresses that are covered by one of the allowed IP Prefixes are not subjected to rate limiting. See [Rate Limiter Allowed Prefixes](#rate-limiter-allowed-prefixes) below for details.

`request_cookies_to_add` - (Optional) Add Cookies in Cookie Header. Cookies are key-value pairs to be added to HTTP request being routed towards upstream. Cookies specified at this level are applied after cookies from matched Route are applied. See [Request Cookies To Add](#request-cookies-to-add) below for details.

`request_cookies_to_remove` - (Optional) Remove Cookies from Cookie Header. List of keys of Cookies to be removed from the HTTP request being sent towards upstream (`List`).

`request_headers_to_add` - (Optional) Add Request Headers. Headers are key-value pairs to be added to HTTP request being routed towards upstream. Headers specified at this level are applied after headers from matched Route are applied. See [Request Headers To Add](#request-headers-to-add) below for details.

`request_headers_to_remove` - (Optional) Remove Request Headers. List of keys of Headers to be removed from the HTTP request being sent towards upstream (`List`).

`response_cookies_to_add` - (Optional) Add Set-Cookie Headers. Cookies are name-value pairs along with optional attribute parameters to be added to HTTP response being sent towards downstream. Cookies specified at this level are applied after cookies from matched Route are applied. See [Response Cookies To Add](#response-cookies-to-add) below for details.

`response_cookies_to_remove` - (Optional) Remove Cookies from Set-Cookie Headers. List of name of Cookies to be removed from the HTTP response being sent towards downstream. Entire set-cookie header will be removed (`List`).

`response_headers_to_add` - (Optional) Add Response Headers. Headers are key-value pairs to be added to HTTP response being sent towards downstream. Headers specified at this level are applied after headers from matched Route are applied. See [Response Headers To Add](#response-headers-to-add) below for details.

`response_headers_to_remove` - (Optional) Remove Response Headers. List of keys of Headers to be removed from the HTTP response being sent towards downstream (`List`).

`retry_policy` - (Optional) Retry Policy. Retry policy configuration for route destination. See [Retry Policy](#retry-policy) below for details.

`routes` - (Optional) Routes. The list of routes that will be matched, in order, for incoming requests. The first route that matches will be used. Currently route object is redundant in case of TCP proxy but required. For TCP_PROXY/TCP_PROXY_WITH_SNI/SMA_PROXY VirtualHosts, the route object only specifies the cluster/weighted-cluster as route destination without any match condition. In other words, match condition in route object is ignored for TCP_PROXY/TCP_PROXY_WITH_SNI/SMA_PROXY VirtualHosts. Routes used for T... See [Routes](#routes) below for details.

`sensitive_data_policy` - (Optional) Sensitive Data Discovery. References to sensitive_data_policy objects. See [Sensitive Data Policy](#sensitive-data-policy) below for details.

`server_name` - (Optional) Server Name. Specifies the value to be used for Server header inserted in responses. This will overwrite existing values if any for Server Header (`String`).

`slow_ddos_mitigation` - (Optional) Slow DDOS Mitigation. 'Slow and low' attacks tie up server resources, leaving none available for servicing requests from actual users. See [Slow DDOS Mitigation](#slow-ddos-mitigation) below for details.

`timeouts` - (Optional) See [Timeouts](#timeouts) below for details.

`tls_cert_params` - (Optional) Certificate Parameters. Certificate Parameters for authentication, TLS ciphers, and trust store. See [TLS Cert Params](#tls-cert-params) below for details.

`tls_parameters` - (Optional) Downstream TLS Parameters. TLS configuration for downstream connections. See [TLS Parameters](#tls-parameters) below for details.

`user_identification` - (Optional) User Identification Policy. A reference to user_identification object. The rules in the user_identification object are evaluated to determine the user identifier to be rate limited. See [User Identification](#user-identification) below for details.

`waf_type` - (Optional) WAF Instance. WAF instance will be pointing to an app_firewall object. See [WAF Type](#waf-type) below for details.

### Attributes Reference

In addition to all arguments above, the following attributes are exported:

`id` - (Optional) Unique identifier for the resource (`String`).

---

<a id="nestedblock--advertise_policies"></a>

<a id="nestedblock--authentication"></a>

<a id="nestedblock--authentication--auth_config"></a>

<a id="nestedblock--authentication--cookie_params"></a>

<a id="nestedblock--authentication--cookie_params--auth_hmac"></a>

<a id="nestedblock--authentication--cookie_params--auth_hmac--prim_key"></a>

<a id="nestedblock--authentication--cookie_params--auth_hmac--sec_key"></a>

<a id="nestedblock--authentication--cookie_params--kms_key_hmac"></a>

<a id="nestedblock--authentication--redirect_dynamic"></a>

<a id="nestedblock--authentication--use_auth_object_config"></a>

<a id="nestedblock--buffer_policy"></a>

<a id="nestedblock--captcha_challenge"></a>

<a id="nestedblock--coalescing_options"></a>

<a id="nestedblock--coalescing_options--default_coalescing"></a>

<a id="nestedblock--coalescing_options--strict_coalescing"></a>

<a id="nestedblock--compression_params"></a>

<a id="nestedblock--cors_policy"></a>

<a id="nestedblock--csrf_policy"></a>

<a id="nestedblock--csrf_policy--all_load_balancer_domains"></a>

<a id="nestedblock--csrf_policy--custom_domain_list"></a>

<a id="nestedblock--csrf_policy--disabled"></a>

<a id="nestedblock--custom_errors"></a>

<a id="nestedblock--default_header"></a>

<a id="nestedblock--default_loadbalancer"></a>

<a id="nestedblock--disable_path_normalize"></a>

<a id="nestedblock--dynamic_reverse_proxy"></a>

<a id="nestedblock--dynamic_reverse_proxy--resolution_network"></a>

<a id="nestedblock--enable_path_normalize"></a>

<a id="nestedblock--http_protocol_options"></a>

<a id="nestedblock--http_protocol_options--http_protocol_enable_v1_only"></a>

<a id="nestedblock--http_protocol_options--http_protocol_enable_v1_only--header_transformation"></a>

<a id="nestedblock--http_protocol_options--http_protocol_enable_v1_only--header_transformation--default_header_transformation"></a>

<a id="nestedblock--http_protocol_options--http_protocol_enable_v1_only--header_transformation--legacy_header_transformation"></a>

<a id="nestedblock--http_protocol_options--http_protocol_enable_v1_only--header_transformation--preserve_case_header_transformation"></a>

<a id="nestedblock--http_protocol_options--http_protocol_enable_v1_only--header_transformation--proper_case_header_transformation"></a>

<a id="nestedblock--http_protocol_options--http_protocol_enable_v1_v2"></a>

<a id="nestedblock--http_protocol_options--http_protocol_enable_v2_only"></a>

<a id="nestedblock--js_challenge"></a>

<a id="nestedblock--no_authentication"></a>

<a id="nestedblock--no_challenge"></a>

<a id="nestedblock--non_default_loadbalancer"></a>

<a id="nestedblock--pass_through"></a>

<a id="nestedblock--rate_limiter_allowed_prefixes"></a>

<a id="nestedblock--request_cookies_to_add"></a>

<a id="nestedblock--request_cookies_to_add--secret_value"></a>

<a id="nestedblock--request_cookies_to_add--secret_value--blindfold_secret_info"></a>

<a id="nestedblock--request_cookies_to_add--secret_value--clear_secret_info"></a>

<a id="nestedblock--request_headers_to_add"></a>

<a id="nestedblock--request_headers_to_add--secret_value"></a>

<a id="nestedblock--request_headers_to_add--secret_value--blindfold_secret_info"></a>

<a id="nestedblock--request_headers_to_add--secret_value--clear_secret_info"></a>

<a id="nestedblock--response_cookies_to_add"></a>

<a id="nestedblock--response_cookies_to_add--add_httponly"></a>

<a id="nestedblock--response_cookies_to_add--add_partitioned"></a>

<a id="nestedblock--response_cookies_to_add--add_secure"></a>

<a id="nestedblock--response_cookies_to_add--ignore_domain"></a>

<a id="nestedblock--response_cookies_to_add--ignore_expiry"></a>

<a id="nestedblock--response_cookies_to_add--ignore_httponly"></a>

<a id="nestedblock--response_cookies_to_add--ignore_max_age"></a>

<a id="nestedblock--response_cookies_to_add--ignore_partitioned"></a>

<a id="nestedblock--response_cookies_to_add--ignore_path"></a>

<a id="nestedblock--response_cookies_to_add--ignore_samesite"></a>

<a id="nestedblock--response_cookies_to_add--ignore_secure"></a>

<a id="nestedblock--response_cookies_to_add--ignore_value"></a>

<a id="nestedblock--response_cookies_to_add--samesite_lax"></a>

<a id="nestedblock--response_cookies_to_add--samesite_none"></a>

<a id="nestedblock--response_cookies_to_add--samesite_strict"></a>

<a id="nestedblock--response_cookies_to_add--secret_value"></a>

<a id="nestedblock--response_cookies_to_add--secret_value--blindfold_secret_info"></a>

<a id="nestedblock--response_cookies_to_add--secret_value--clear_secret_info"></a>

<a id="nestedblock--response_headers_to_add"></a>

<a id="nestedblock--response_headers_to_add--secret_value"></a>

<a id="nestedblock--response_headers_to_add--secret_value--blindfold_secret_info"></a>

<a id="nestedblock--response_headers_to_add--secret_value--clear_secret_info"></a>

<a id="nestedblock--retry_policy"></a>

<a id="nestedblock--retry_policy--back_off"></a>

<a id="nestedblock--routes"></a>

<a id="nestedblock--sensitive_data_policy"></a>

<a id="nestedblock--slow_ddos_mitigation"></a>

<a id="nestedblock--slow_ddos_mitigation--disable_request_timeout"></a>

<a id="nestedblock--timeouts"></a>

<a id="nestedblock--tls_cert_params"></a>

<a id="nestedblock--tls_cert_params--certificates"></a>

<a id="nestedblock--tls_cert_params--client_certificate_optional"></a>

<a id="nestedblock--tls_cert_params--client_certificate_required"></a>

<a id="nestedblock--tls_cert_params--no_client_certificate"></a>

<a id="nestedblock--tls_cert_params--validation_params"></a>

<a id="nestedblock--tls_cert_params--validation_params--trusted_ca"></a>

<a id="nestedblock--tls_cert_params--validation_params--trusted_ca--trusted_ca_list"></a>

<a id="nestedblock--tls_parameters"></a>

<a id="nestedblock--tls_parameters--client_certificate_optional"></a>

<a id="nestedblock--tls_parameters--client_certificate_required"></a>

<a id="nestedblock--tls_parameters--common_params"></a>

<a id="nestedblock--tls_parameters--common_params--tls_certificates"></a>

<a id="nestedblock--tls_parameters--common_params--tls_certificates--custom_hash_algorithms"></a>

<a id="nestedblock--tls_parameters--common_params--tls_certificates--disable_ocsp_stapling"></a>

<a id="nestedblock--tls_parameters--common_params--tls_certificates--private_key"></a>

<a id="nestedblock--tls_parameters--common_params--tls_certificates--use_system_defaults"></a>

<a id="nestedblock--tls_parameters--common_params--validation_params"></a>

<a id="nestedblock--tls_parameters--common_params--validation_params--trusted_ca"></a>

<a id="nestedblock--tls_parameters--no_client_certificate"></a>

<a id="nestedblock--user_identification"></a>

<a id="nestedblock--waf_type"></a>

<a id="nestedblock--waf_type--app_firewall"></a>

<a id="nestedblock--waf_type--app_firewall--app_firewall"></a>

<a id="nestedblock--waf_type--disable_waf"></a>

<a id="nestedblock--waf_type--inherit_waf"></a>

## Import

Import is supported using the following syntax:

```shell
# Import using namespace/name format
terraform import f5xc_virtual_host.example system/example
```
